import{i as v,c as a,o as i,F as g,b as C,h as c,a as t,t as o,e as x,f as V,j as N,v as S,k as B,r as y,l as E,m as H,p as _}from"./index-DGF37zzT.js";const U={class:"list-group"},D=["onClick"],F={class:"d-flex w-100 justify-content-between"},J={class:"mb-1"},M={class:"mb-1"},O={__name:"drinksView",setup(w){const m=v("drinks"),h=v("addCart");return(e,r)=>(i(),a("ul",U,[(i(!0),a(g,null,C(c(m),d=>(i(),a("li",{key:d.id,class:"list-group-item list-group-item-action",onClick:f=>c(h)(d),style:{cursor:"pointer"}},[t("div",F,[t("h5",J,o(d.name),1),t("small",null,"$"+o(d.price),1)]),t("p",M,o(d.description),1)],8,D))),128))]))}},Q={class:"container my-4"},T={class:"mb-3 p-3 bg-light rounded"},k={class:"mb-1"},L={class:"mb-0"},R={class:"table table-bordered table-striped table-hover"},W={__name:"ordersView",setup(w){const m=v("order");return(h,e)=>(i(),a(g,null,[e[4]||(e[4]=t("hr",null,null,-1)),t("div",Q,[e[3]||(e[3]=t("h5",{class:"mb-3"},"訂單",-1)),t("div",T,[t("p",k,[e[0]||(e[0]=t("strong",null,"備註:",-1)),x(" "+o(c(m).description),1)]),t("p",L,[e[1]||(e[1]=t("strong",null,"總計:",-1)),x(" $"+o(c(m).total),1)])]),t("table",R,[e[2]||(e[2]=t("thead",{class:"table-dark"},[t("tr",null,[t("th",null,"品項"),t("th",null,"描述"),t("th",null,"售價"),t("th",null,"數量"),t("th",null,"小記")])],-1)),t("tbody",null,[(i(!0),a(g,null,C(c(m).cart,r=>(i(),a("tr",{key:r.id},[t("td",null,o(r.name),1),t("td",null,o(r.description),1),t("td",null,"$"+o(r.price),1),t("td",null,o(r.count),1),t("td",null,"$"+o(r.price*r.count),1)]))),128))])])])],64))}},q={class:"col-9"},z={key:0,class:"table table-bordered table-striped table-hover"},A=["onChange","onUpdate:modelValue"],G=["value"],I=["onClick"],K={key:1,class:"alert alert-warning"},P={class:"mt-3 d-flex justify-content-between align-items-center"},X={__name:"shoppingView",setup(w){const m=v("cart"),h=v("description"),e=v("changeCount"),r=v("delHandler"),d=v("orderHandler");return(f,u)=>(i(),a("div",q,[c(m).length!==0?(i(),a("table",z,[u[2]||(u[2]=t("thead",{class:"table-dark"},[t("tr",null,[t("th",null,"品項"),t("th",null,"描述"),t("th",null,"售價"),t("th",null,"數量"),t("th",null,"小記"),t("th",null,"刪除")])],-1)),t("tbody",null,[(i(!0),a(g,null,C(c(m),l=>(i(),a("tr",{key:l.id},[t("td",null,o(l.name),1),t("td",null,o(l.description),1),t("td",null,"$"+o(l.price),1),t("td",null,[V(t("select",{class:"form-select form-select-sm w-auto",onChange:p=>c(e)(p,l.id),"onUpdate:modelValue":p=>l.count=p},[(i(),a(g,null,C(10,p=>t("option",{key:p,value:p},o(p),9,G)),64))],40,A),[[N,l.count]])]),t("td",null,"$"+o(l.price*l.count),1),t("td",null,[t("button",{class:"btn btn-sm btn-danger",onClick:p=>c(r)(l.id)}," 刪除 ",8,I)])]))),128))])])):(i(),a("div",K," 購物車目前是空的 ")),t("div",P,[t("div",null,[u[3]||(u[3]=t("strong",null,"總計:",-1)),x(" $"+o(f.total),1)]),t("div",null,[V(t("input",{type:"text",class:"form-control form-control-sm",placeholder:"備註","onUpdate:modelValue":u[0]||(u[0]=l=>B(h)?h.value=l:null)},null,512),[[S,c(h)]])]),t("button",{class:"btn btn-primary btn-sm",onClick:u[1]||(u[1]=(...l)=>c(d)&&c(d)(...l))}," 結帳 ")])]))}},Y={class:"row"},Z={class:"col-3"},et={__name:"Week3",setup(w){const h=y([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),e=y([]),r=y(""),d=E(()=>{let n=0;return e.value.forEach(s=>{n+=s.price*s.count}),n}),f=y({});_("drinks",h),_("cart",e),_("description",r),_("total",d),_("order",f);const u=n=>{let s=!0;for(let b=0;b<e.value.length;b++)if(e.value[b].id===n.id){let $=e.value[b];$.count+=1,console.log(e.value),s=!1}s&&(n.count=1,e.value.push(n))},l=()=>{console.log("orderHandler");let n=JSON.parse(JSON.stringify({cart:e.value,description:r.value,total:d.value}));f.value=n,e.value=[],r.value=""},p=(n,s)=>{console.log("changeCount",n);const b=n.target.value;console.log("目前輸入值:",b),console.log("id",s),e.value.forEach($=>{$.id===s&&($.count=n.target.value)}),console.log(e.value)},j=n=>{console.log("delHandler:",n),e.value=e.value.filter(s=>{if(s.id!==n)return console.log("c id:",s),s})};return _("addCart",u),_("orderHandler",l),_("changeCount",p),_("delHandler",j),(n,s)=>(i(),a(g,null,[s[0]||(s[0]=t("h3",null,"餐點購買",-1)),t("div",Y,[t("div",Z,[H(O)]),H(X)]),H(W)],64))}};export{et as default};
