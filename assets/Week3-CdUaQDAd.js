import{r as p,h as $,c as u,a as t,e as v,F as r,b as m,t as s,f as g,v as w,o as i,i as x}from"./index-b-QqUdWP.js";const V={class:"row"},H={class:"col-3"},N={class:"list-group"},S=["onClick"],j={class:"d-flex w-100 justify-content-between"},B={class:"mb-1"},E={class:"mb-1"},U={class:"col-9"},D={key:0,class:"table table-bordered table-striped table-hover"},F=["onChange","onUpdate:modelValue"],J=["value"],M=["onClick"],O={key:1,class:"alert alert-warning"},Q={class:"mt-3 d-flex justify-content-between align-items-center"},T={class:"container my-4"},L={class:"mb-3 p-3 bg-light rounded"},W={class:"mb-1"},q={class:"mb-0"},z={class:"table table-bordered table-striped table-hover"},I={__name:"Week3",setup(A){const b=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}];p(b);const n=p([]),c=p(""),h=$(()=>{let o=0;return n.value.forEach(l=>{o+=l.price*l.count}),o}),d=p({}),_=o=>{let l=!0;for(let e=0;e<n.value.length;e++)if(n.value[e].id===o.id){let a=n.value[e];a.count+=1,console.log(n.value),l=!1}l&&(o.count=1,n.value.push(o))},f=()=>{console.log("orderHandler");let o=JSON.parse(JSON.stringify({cart:n.value,description:c.value,total:h.value}));d.value=o,n.value=[],c.value=""},y=(o,l)=>{console.log("changeCount",o);const e=o.target.value;console.log("目前輸入值:",e),console.log("id",l),n.value.forEach(a=>{a.id===l&&(a.count=o.target.value)}),console.log(n.value)},C=o=>{console.log("delHandler:",o),n.value=n.value.filter(l=>{if(l.id!==o)return console.log("c id:",l),l})};return(o,l)=>(i(),u(r,null,[l[9]||(l[9]=t("h3",null,"餐點購買",-1)),t("div",V,[t("div",H,[l[1]||(l[1]=v("左方餐點 ",-1)),t("ul",N,[(i(),u(r,null,m(b,e=>t("li",{key:e.id,class:"list-group-item list-group-item-action",onClick:a=>_(e),style:{cursor:"pointer"}},[t("div",j,[t("h5",B,s(e.name),1),t("small",null,"$"+s(e.price),1)]),t("p",E,s(e.description),1)],8,S)),64))])]),t("div",U,[l[4]||(l[4]=t("h5",{class:"mb-3"},"右方購物車",-1)),n.value.length!==0?(i(),u("table",D,[l[2]||(l[2]=t("thead",{class:"table-dark"},[t("tr",null,[t("th",null,"品項"),t("th",null,"描述"),t("th",null,"售價"),t("th",null,"數量"),t("th",null,"小記"),t("th",null,"刪除")])],-1)),t("tbody",null,[(i(!0),u(r,null,m(n.value,e=>(i(),u("tr",{key:e.id},[t("td",null,s(e.name),1),t("td",null,s(e.description),1),t("td",null,"$"+s(e.price),1),t("td",null,[g(t("select",{class:"form-select form-select-sm w-auto",onChange:a=>y(a,e.id),"onUpdate:modelValue":a=>e.count=a},[(i(),u(r,null,m(10,a=>t("option",{key:a,value:a},s(a),9,J)),64))],40,F),[[x,e.count]])]),t("td",null,"$"+s(e.price*e.count),1),t("td",null,[t("button",{class:"btn btn-sm btn-danger",onClick:a=>C(e.id)}," 刪除 ",8,M)])]))),128))])])):(i(),u("div",O," 購物車目前是空的 ")),t("div",Q,[t("div",null,[l[3]||(l[3]=t("strong",null,"總計:",-1)),v(" $"+s(h.value),1)]),t("div",null,[g(t("input",{type:"text",class:"form-control form-control-sm",placeholder:"備註","onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e)},null,512),[[w,c.value]])]),t("button",{class:"btn btn-primary btn-sm",onClick:f}," 結帳 ")])])]),t("div",T,[l[8]||(l[8]=t("h5",{class:"mb-3"},"下方訂單",-1)),t("div",L,[t("p",W,[l[5]||(l[5]=t("strong",null,"備註:",-1)),v(" "+s(d.value.description),1)]),t("p",q,[l[6]||(l[6]=t("strong",null,"總計:",-1)),v(" $"+s(d.value.total),1)])]),t("table",z,[l[7]||(l[7]=t("thead",{class:"table-dark"},[t("tr",null,[t("th",null,"品項"),t("th",null,"描述"),t("th",null,"售價"),t("th",null,"數量"),t("th",null,"小記")])],-1)),t("tbody",null,[(i(!0),u(r,null,m(d.value.cart,e=>(i(),u("tr",{key:e.id},[t("td",null,s(e.name),1),t("td",null,s(e.description),1),t("td",null,"$"+s(e.price),1),t("td",null,s(e.count),1),t("td",null,"$"+s(e.price*e.count),1)]))),128))])])])],64))}};export{I as default};
