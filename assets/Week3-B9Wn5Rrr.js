import{i as $,c as i,o as u,a as t,F as p,b as h,h as v,t as a,e as g,r as b,j as N,k as V,f as H,v as S,l as B,p as c}from"./index-BXogXbYe.js";const E={class:"list-group"},U=["onClick"],D={class:"d-flex w-100 justify-content-between"},F={class:"mb-1"},J={class:"mb-1"},M={__name:"drinksView",setup(y){const m=$("drinks"),_=$("addCart");return(e,n)=>(u(),i(p,null,[n[0]||(n[0]=t("h2",null,"左方餐點",-1)),t("ul",E,[(u(!0),i(p,null,h(v(m),d=>(u(),i("li",{key:d.id,class:"list-group-item list-group-item-action",onClick:f=>v(_)(d),style:{cursor:"pointer"}},[t("div",D,[t("h5",F,a(d.name),1),t("small",null,"$"+a(d.price),1)]),t("p",J,a(d.description),1)],8,U))),128))])],64))}},O={class:"container my-4"},Q={class:"mb-3 p-3 bg-light rounded"},T={class:"mb-1"},k={class:"mb-0"},L={class:"table table-bordered table-striped table-hover"},W={__name:"ordersView",setup(y){const m=$("order");return(_,e)=>(u(),i(p,null,[e[4]||(e[4]=t("hr",null,null,-1)),t("div",O,[e[3]||(e[3]=t("h5",{class:"mb-3"},"訂單",-1)),t("div",Q,[t("p",T,[e[0]||(e[0]=t("strong",null,"備註:",-1)),g(" "+a(v(m).description),1)]),t("p",k,[e[1]||(e[1]=t("strong",null,"總計:",-1)),g(" $"+a(v(m).total),1)])]),t("table",L,[e[2]||(e[2]=t("thead",{class:"table-dark"},[t("tr",null,[t("th",null,"品項"),t("th",null,"描述"),t("th",null,"售價"),t("th",null,"數量"),t("th",null,"小記")])],-1)),t("tbody",null,[(u(!0),i(p,null,h(v(m).cart,n=>(u(),i("tr",{key:n.id},[t("td",null,a(n.name),1),t("td",null,a(n.description),1),t("td",null,"$"+a(n.price),1),t("td",null,a(n.count),1),t("td",null,"$"+a(n.price*n.count),1)]))),128))])])])],64))}},q={class:"row"},z={class:"col-3"},A={class:"col-9"},G={key:0,class:"table table-bordered table-striped table-hover"},I=["onChange","onUpdate:modelValue"],K=["value"],P=["onClick"],R={key:1,class:"alert alert-warning"},X={class:"mt-3 d-flex justify-content-between align-items-center"},Z={__name:"Week3",setup(y){const _=b([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),e=b([]),n=b(""),d=N(()=>{let s=0;return e.value.forEach(l=>{s+=l.price*l.count}),s}),f=b({});c("drinks",_),c("cart",e),c("description",n),c("total",d),c("order",f);const j=s=>{let l=!0;for(let o=0;o<e.value.length;o++)if(e.value[o].id===s.id){let r=e.value[o];r.count+=1,console.log(e.value),l=!1}l&&(s.count=1,e.value.push(s))},C=()=>{console.log("orderHandler");let s=JSON.parse(JSON.stringify({cart:e.value,description:n.value,total:d.value}));f.value=s,e.value=[],n.value=""},w=(s,l)=>{console.log("changeCount",s);const o=s.target.value;console.log("目前輸入值:",o),console.log("id",l),e.value.forEach(r=>{r.id===l&&(r.count=s.target.value)}),console.log(e.value)},x=s=>{console.log("delHandler:",s),e.value=e.value.filter(l=>{if(l.id!==s)return console.log("c id:",l),l})};return c("addCart",j),c("orderHandler",C),c("changeCount",w),c("delHandler",x),(s,l)=>(u(),i(p,null,[l[5]||(l[5]=t("h3",null,"餐點購買",-1)),t("div",q,[t("div",z,[l[1]||(l[1]=g("左方餐點 ",-1)),V(M)]),t("div",A,[l[4]||(l[4]=t("h5",{class:"mb-3"},"右方購物車",-1)),e.value.length!==0?(u(),i("table",G,[l[2]||(l[2]=t("thead",{class:"table-dark"},[t("tr",null,[t("th",null,"品項"),t("th",null,"描述"),t("th",null,"售價"),t("th",null,"數量"),t("th",null,"小記"),t("th",null,"刪除")])],-1)),t("tbody",null,[(u(!0),i(p,null,h(e.value,o=>(u(),i("tr",{key:o.id},[t("td",null,a(o.name),1),t("td",null,a(o.description),1),t("td",null,"$"+a(o.price),1),t("td",null,[H(t("select",{class:"form-select form-select-sm w-auto",onChange:r=>w(r,o.id),"onUpdate:modelValue":r=>o.count=r},[(u(),i(p,null,h(10,r=>t("option",{key:r,value:r},a(r),9,K)),64))],40,I),[[B,o.count]])]),t("td",null,"$"+a(o.price*o.count),1),t("td",null,[t("button",{class:"btn btn-sm btn-danger",onClick:r=>x(o.id)}," 刪除 ",8,P)])]))),128))])])):(u(),i("div",R," 購物車目前是空的 ")),t("div",X,[t("div",null,[l[3]||(l[3]=t("strong",null,"總計:",-1)),g(" $"+a(d.value),1)]),t("div",null,[H(t("input",{type:"text",class:"form-control form-control-sm",placeholder:"備註","onUpdate:modelValue":l[0]||(l[0]=o=>n.value=o)},null,512),[[S,n.value]])]),t("button",{class:"btn btn-primary btn-sm",onClick:C}," 結帳 ")])])]),V(W)],64))}};export{Z as default};
