import{r as c,h as V,c as s,a as l,e as v,F as r,b as p,d as _,t as a,f,v as x,o as i,i as N}from"./index-aiv5Db7I.js";const S={class:"row"},B={class:"col-3"},E=["onClick"],U={class:"col-9"},w={key:0},D=["onChange","onUpdate:modelValue"],F=["value"],M={__name:"Week3",setup(H){const m=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}];c(m);const n=c([]),g=c(""),h=V(()=>{let o=0;return n.value.forEach(e=>{o+=e.price*e.count}),o}),d=c({}),C=o=>{let e=!0;for(let t=0;t<n.value.length;t++)if(n.value[t].id===o.id){let u=n.value[t];u.count+=1,console.log(n.value),e=!1}e&&(o.count=1,n.value.push(o))},b=()=>{console.log("orderHandler");let o=JSON.parse(JSON.stringify({cart:n.value,description:n.description,total:h.value}));d.value=o,n.value=[]},y=(o,e)=>{console.log("changeCount",o);const t=o.target.value;console.log("目前輸入值:",t),console.log("id",e),n.value.forEach(u=>{u.id===e&&(u.count=o.target.value)}),console.log(n.value)};return(o,e)=>(i(),s(r,null,[e[7]||(e[7]=l("h3",null,"餐點購買",-1)),l("div",S,[l("div",B,[e[1]||(e[1]=v("左方餐點 ",-1)),l("ul",null,[(i(),s(r,null,p(m,t=>l("li",{onClick:u=>C(t)},a(t),9,E)),64))])]),l("div",U,[e[4]||(e[4]=v(" 右方購物車 ",-1)),n.value.length!==0?(i(),s("table",w,[e[3]||(e[3]=l("thead",null,[l("th",null,"品項"),l("th",null,"描述"),l("th",null,"售價"),l("th",null,"數量"),l("th",null,"小記"),l("th",null,"刪除")],-1)),l("tbody",null,[(i(!0),s(r,null,p(n.value,t=>(i(),s("tr",null,[l("td",null,a(t.name),1),l("td",null,a(t.description),1),l("td",null,a(t.price),1),l("td",null,[f(l("select",{onChange:u=>y(u,t.id),"onUpdate:modelValue":u=>t.count=u},[(i(),s(r,null,p(10,u=>l("option",{key:u,value:u},a(u),9,F)),64))],40,D),[[N,t.count]])]),l("td",null,a(t.price*t.count),1),e[2]||(e[2]=l("td",null,"刪除",-1))]))),256))])])):_("",!0),l("div",null,"總計: "+a(h.value),1),l("div",null,[f(l("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>g.value=t)},null,512),[[x,g.value]])]),l("button",{onClick:b},"結帳")])]),l("div",null,[e[6]||(e[6]=v(" 下方訂單 ",-1)),l("div",null," 備註:"+a(d.value.description)+" 總計:"+a(d.value.total),1),l("table",null,[e[5]||(e[5]=l("thead",null,[l("th",null,"品項"),l("th",null,"數量"),l("th",null,"小記")],-1)),l("tbody",null,[(i(!0),s(r,null,p(d.value.cart,t=>(i(),s("tr",null,[l("td",null,a(t),1)]))),256))])])])],64))}};export{M as default};
