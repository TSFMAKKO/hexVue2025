import{r as v,h as V,c as s,a as l,e as m,F as r,b as p,d as x,t as a,f,v as N,o as i,i as H}from"./index-BpYuLlZd.js";const S={class:"row"},B={class:"col-3"},E=["onClick"],U={class:"col-9"},w={key:0},D=["onChange","onUpdate:modelValue"],F=["value"],J=["onClick"],Q={__name:"Week3",setup(M){const g=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}];v(g);const o=v([]),d=v(""),h=V(()=>{let n=0;return o.value.forEach(e=>{n+=e.price*e.count}),n}),c=v({}),C=n=>{let e=!0;for(let t=0;t<o.value.length;t++)if(o.value[t].id===n.id){let u=o.value[t];u.count+=1,console.log(o.value),e=!1}e&&(n.count=1,o.value.push(n))},_=()=>{console.log("orderHandler");let n=JSON.parse(JSON.stringify({cart:o.value,description:d.value,total:h.value}));c.value=n,o.value=[],d.value=""},b=(n,e)=>{console.log("changeCount",n);const t=n.target.value;console.log("目前輸入值:",t),console.log("id",e),o.value.forEach(u=>{u.id===e&&(u.count=n.target.value)}),console.log(o.value)},y=n=>{console.log("delHandler:",n),o.value=o.value.filter(e=>{if(e.id!==n)return console.log("c id:",e),e})};return(n,e)=>(i(),s(r,null,[e[6]||(e[6]=l("h3",null,"餐點購買",-1)),l("div",S,[l("div",B,[e[1]||(e[1]=m("左方餐點 ",-1)),l("ul",null,[(i(),s(r,null,p(g,t=>l("li",{onClick:u=>C(t)},a(t),9,E)),64))])]),l("div",U,[e[3]||(e[3]=m(" 右方購物車 ",-1)),o.value.length!==0?(i(),s("table",w,[e[2]||(e[2]=l("thead",null,[l("th",null,"品項"),l("th",null,"描述"),l("th",null,"售價"),l("th",null,"數量"),l("th",null,"小記"),l("th",null,"刪除")],-1)),l("tbody",null,[(i(!0),s(r,null,p(o.value,t=>(i(),s("tr",null,[l("td",null,a(t.name),1),l("td",null,a(t.description),1),l("td",null,a(t.price),1),l("td",null,[f(l("select",{onChange:u=>b(u,t.id),"onUpdate:modelValue":u=>t.count=u},[(i(),s(r,null,p(10,u=>l("option",{key:u,value:u},a(u),9,F)),64))],40,D),[[H,t.count]])]),l("td",null,a(t.price*t.count),1),l("td",null,[l("button",{onClick:u=>y(t.id)},"刪除",8,J)])]))),256))])])):x("",!0),l("div",null,"總計: "+a(h.value),1),l("div",null,[f(l("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>d.value=t)},null,512),[[N,d.value]])]),l("button",{onClick:_},"結帳")])]),l("div",null,[e[5]||(e[5]=m(" 下方訂單 ",-1)),l("div",null," 備註:"+a(c.value.description)+" 總計:"+a(c.value.total),1),l("table",null,[e[4]||(e[4]=l("thead",null,[l("th",null,"品項"),l("th",null,"數量"),l("th",null,"小記")],-1)),l("tbody",null,[(i(!0),s(r,null,p(c.value.cart,t=>(i(),s("tr",null,[l("td",null,a(t),1)]))),256))])])])],64))}};export{Q as default};
